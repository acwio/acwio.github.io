<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<title>Real-time XML Editor</title>
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-markdown.min.css" rel="stylesheet">
<link href="css/linedtextarea.css" rel="stylesheet">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
<link rel="shortcut icon" href="http://toopay.github.io/bootstrap-markdown/img/favicon.png">
<link href="http://fonts.googleapis.com/css?family=Cardo&subset=latin,greek-ext,greek,latin-ext" rel="stylesheet" type="text/css">


<script type="text/javascript">

var defaultStuff = 'This is default text. Change me!';

var old = '';

function init(){
  for(var i = 0, len = defaultStuff; i < len; i++){
    console.log(defaultStuff[i]);
  }

  document.getElementById('content').value = defaultStuff;
}

function update()
{
  var d = document.getElementById('translatedXML'); 
  var cur = editor.getValue();


	console.log(cur)

  if (old != cur) {
    old = cur;
    d.value = old;
    console.log('Updating to: '+d.innerHTML);
  }

  window.setTimeout(update, 150);
}

</script>


</head>

<body onload="init();">
	<ul class="nav nav-tabs" role="tablist">
		<li class="active"><a href="#markdown" role="tab" data-toggle="tab">Markdown</a></li>
		<li><a href="#xml" role="tab" data-toggle="tab">XML</a></li>
	</ul>

	<!-- Tab panes -->
	<div class="tab-content">
		<div class="tab-pane active" id="markdown">
			<div id="container" style="width: 99%; height: 99%; padding: 4em;" >
				<div class="well" style="width: 47%; height: 99%; float: left;">
					<form style="height: 99%;">
						<div class="form-group">
							<input class="form-control" name="title" type="text" placeholder="Title?"/>
						</div>
						<textarea id="content" name="content" data-provide="markdown" rows="20" style="height: 99%;" onkeypress="processLetter(event)" onkeyup="getLineNumber(this)" onmouseup="this.onkeyup()"></textarea>
						<label class="checkbox">
							<input name="publish" type="checkbox"> Publish
						</label>
						<hr/>
						<button type="submit" class="btn">Submit</button>
					</form> 
				</div>
			</div>
		</div>
		<div id="xml" class="tab-pane" style="width: 99%; height: 870px; padding:4em;" >
			<div id="editor" class="well" style="width: 47%; height: 100%; float: left;">
			Default text!	
				
				
				<!---
				# # # Old Bootstrap Markdown Form # # #
		  </div>

		  <div class="well" style="width: 47%; height: 100%; float: right;">
			<textarea id="translatedXML" class="form-control" style="resize: none; height: 100%;" disabled></textarea>
		  </div>
	  </div>
	 </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-markdown.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/markdown.js"></script>
    <script src="js/to-markdown.js"></script>
    <script src="js/linedtextarea.js"></script>
	<script src="src-ace/ace.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var editor = ace.edit("editor");
		//editor.setTheme("ace/theme/monokai");
		editor.getSession().setMode("ace/mode/xml");
	</script>
<script>
update();
</script>


</html>
